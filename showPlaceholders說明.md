# showPlaceholders 功能說明

## 概述
`showPlaceholders` 是 `taskDisplay` 配置中的一個選項，用於控制跨日期任務條顯示時是否在非開始日期添加佔位符。

## 功能說明

### 什麼是佔位符（Placeholder）？

當跨日期任務條顯示時，任務條是**絕對定位**的，會覆蓋在多個日期格子上。例如：
- 一個任務從 4月7日 到 4月17日
- 任務條會橫跨這11個日期格子

### 問題場景

當任務條橫跨多個日期格子時：
1. **任務條只在開始日期（4月7日）的 `tasks-container` 中定位**
2. **其他日期（4月8日-4月17日）的 `tasks-container` 是空的**
3. **如果這些日期格子中有其他任務或元素，可能會遮擋任務條**

### 佔位符的作用

佔位符是**隱藏的、不可見的**元素，但會**佔用垂直空間**：

```
日期格子（4月7日）         日期格子（4月8日）         日期格子（4月9日）
┌─────────────────┐      ┌─────────────────┐      ┌─────────────────┐
│ 7               │      │ 8               │      │ 9               │
│                 │      │                 │      │                 │
│ [任務條] ←──────┼──────┼──────→         │      │                 │
│                 │      │ [佔位符] ←──────┼──────┼──────→         │
│                 │      │ (隱藏但佔用空間) │      │ [佔位符]        │
└─────────────────┘      └─────────────────┘      └─────────────────┘
```

### 具體功能

#### 當 `showPlaceholders = true`（預設）
- ✅ 在任務條跨越的**每個日期格子**中添加隱藏佔位符
- ✅ 佔位符的高度 = 任務條的高度
- ✅ 佔位符是**不可見的**（`visibility: hidden`），但**佔用空間**
- ✅ 確保任務條在每個日期格子中都有足夠的垂直空間
- ✅ 避免任務條被其他元素遮擋

#### 當 `showPlaceholders = false`
- ❌ 不在非開始日期添加佔位符
- ⚠️ 任務條可能被其他元素遮擋
- ⚠️ 任務條在非開始日期的位置可能不準確

## 視覺效果對比

### 啟用佔位符（showPlaceholders = true）
```
日期格子
┌─────────────┐
│ 7           │
│             │
│ [任務條]    │ ← 任務條顯示在這裡
│             │
│ [佔位符]    │ ← 隱藏的佔位符，佔用空間
└─────────────┘
```

### 禁用佔位符（showPlaceholders = false）
```
日期格子
┌─────────────┐
│ 7           │
│             │
│ [任務條]    │ ← 任務條顯示在這裡
│             │
│             │ ← 沒有佔位符，可能被其他元素遮擋
└─────────────┘
```

## 使用建議

### 建議啟用（true）
- ✅ 當任務條較多，需要堆疊顯示時
- ✅ 當需要確保任務條在所有日期格子中都能正確顯示時
- ✅ 當日期格子中可能有其他元素時

### 可以禁用（false）
- ⚠️ 當任務條很少，不會堆疊時
- ⚠️ 當想要更簡潔的顯示時
- ⚠️ 當效能需要優化時（雖然影響很小）

## 技術細節

### 佔位符的實現
```javascript
// 佔位符的樣式
placeholder.style.height = `${taskBarHeight}px`;  // 高度 = 任務條高度
placeholder.style.visibility = 'hidden';          // 隱藏但佔用空間
placeholder.style.marginTop = '2px';
placeholder.style.marginBottom = '2px';
```

### 佔位符的位置
- 佔位符添加在每個日期格子的 `.tasks-container` 中
- 每個任務條層級（taskBarIndex）對應一個佔位符
- 如果已經有足夠的佔位符，不會重複添加

## 配置範例

```javascript
taskDisplay: {
    showSpanningTasks: true,      // 啟用跨日期任務條
    showPlaceholders: true,       // 啟用佔位符（建議）
    hoverEffect: true
}
```

## 總結

`showPlaceholders` 是一個**視覺優化**功能，用於確保跨日期任務條在所有日期格子中都能正確顯示，避免被其他元素遮擋。建議保持啟用狀態，除非有特殊需求。
